module Test

import "@fluencelabs/aqua-lib/builtin.aqua"
import "@fluencelabs/registry/resources-api.aqua"
import "../../aqua/subnetwork.aqua"
export test

func get_peer_id() -> PeerId:
  <- INIT_PEER_ID

service Scope("scope"):
  get_peer_id() -> string

func test() -> ?string, *string, bool, *string:
  res, err <- createSubnetwork("test")

  if res != nil:
    on HOST_PEER_ID:
      succ, err1 <- registerWorker(res!)

  <- res, err, succ, err1
