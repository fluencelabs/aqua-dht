(xor
    (seq
        (xor
            (seq
                (call relay ("srv" "resolve_alias") [alias] service_id)
                (call relay ("srv" "remove") [service_id])
            )
            (null)
        )
        (seq
            (call relay ("srv" "add_alias") [alias service] result)
            (call %init_peer_id% (returnService "run") ["ok"])
        )
    )
    (call %init_peer_id% (returnService "run") [%last_error%])
)
